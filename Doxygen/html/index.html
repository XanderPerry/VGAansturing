<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VGAansturing: VGA Display Terminal Manual</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">VGAansturing<span id="projectnumber">&#160;1</span>
   </div>
   <div id="projectbrief">Aansturing van een vga scherm dmv een STM32F407GTx</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">VGA Display Terminal Manual </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul>
  <li class="level1">
    <a href="#dev_sec">Developers</a>
  </li>
  <li class="level1">
    <a href="#intro_sec">Introduction</a>
  </li>
  <li class="level1">
    <a href="#arch_sec">Architecture</a>
  </li>
  <li class="level1">
    <a href="#usage_sec">Hardware &amp; Software Setup</a>
    <ul>
      <li class="level2">
        <a href="#hw_req">Hardware Requirements</a>
      </li>
      <li class="level2">
        <a href="#connect_sec">Connections</a>
      </li>
      <li class="level2">
        <a href="#term_setup">Terminal Configuration</a>
      </li>
      <li class="level2">
        <a href="#send_cmd">Sending Commands</a>
      </li>
    </ul>
  </li>
  <li class="level1">
    <a href="#file_sec">File Structure</a>
  </li>
  <li class="level1">
    <a href="#cmd_sec">UART Command Protocol</a>
    <ul>
      <li class="level2">
        <a href="#color_subsec">Color Reference</a>
      </li>
    </ul>
  </li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="dev_sec"></a>
Developers</h1>
<p>This project has been made by <b>Team 7</b> consisting of the following members: <br  />
</p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Naam   </th><th class="markdownTableHeadLeft">Student nr   </th><th class="markdownTableHeadLeft">Geboortedatum    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><b>DaniÃ«l Wit Ariza</b>   </td><td class="markdownTableBodyLeft">1851291   </td><td class="markdownTableBodyLeft">1 Nov 2003    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><b>Tom Veldkamp</b>   </td><td class="markdownTableBodyLeft">1837149   </td><td class="markdownTableBodyLeft">30 Sep 2004    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><b>Xander Perry</b>   </td><td class="markdownTableBodyLeft">1835601   </td><td class="markdownTableBodyLeft">3 Jun 2003   </td></tr>
</table>
<p>This project has been finished on 13/01/2026</p>
<h1><a class="anchor" id="intro_sec"></a>
Introduction</h1>
<p>Welcome to the VGA Display Terminal documentation. This project utilizes an <b>STM32F407GTx</b> to drive a VGA screen. The system operates as a serial terminal: it receives ASCII string commands via UART2 and renders graphics accordingly.</p>
<h1><a class="anchor" id="arch_sec"></a>
Architecture</h1>
<p>The software is divided into three distinct layers:</p>
<ol type="1">
<li><b>Front Layer</b>: Parses incoming comma-separated strings (e.g., <code>lijn,0,0,100,100,rood</code>).</li>
<li><b>Logic Layer</b>: Mathematical implementations of drawing algorithms (Bresenham lines, Midpoint circles).</li>
<li><b>I/O Layer</b>: Hardware interface for UART interrupts and VGA pixel pushing.</li>
</ol>
<p><img src="architecture.jpeg" alt="Software Architecture Diagram" class="inline"/></p>
<h1><a class="anchor" id="usage_sec"></a>
Hardware &amp; Software Setup</h1>
<p>To use the VGA Display Terminal, you need to set up the motherboard connections and configure a serial terminal on your PC.</p>
<h2><a class="anchor" id="hw_req"></a>
Hardware Requirements</h2>
<ul>
<li><b>STM32F407G Board</b> mounted on the VGA Motherboard.</li>
<li><b>VGA Monitor</b> and VGA Cable.</li>
<li><b>USB Cables</b> (One for flashing/debug, one for UART communication).</li>
</ul>
<h2><a class="anchor" id="connect_sec"></a>
Connections</h2>
<p>The motherboard handles the physical signal routing. Follow these steps:</p>
<ol type="1">
<li><b>VGA</b>: Connect the VGA Monitor to the VGA port on the motherboard.</li>
<li><b>UART</b>: Connect the motherboard's <b>UART USB port</b> to your PC.</li>
<li><b>Flashing</b>: Connect the board's <b>ST-Link/Programming USB port</b> to your PC.</li>
</ol>
<h2><a class="anchor" id="term_setup"></a>
Terminal Configuration</h2>
<ol type="1">
<li>Open a terminal program (e.g., <b>Tera Term</b>, <b>PuTTY</b>, or <b>RealTerm</b>).</li>
<li>Select the COM port associated with the <b>UART connection</b> (not the ST-Link).</li>
<li>Configure the serial port with the following settings:<ul>
<li><b>Baud Rate:</b> 115200</li>
<li><b>Data Bits:</b> 8</li>
<li><b>Parity:</b> None</li>
<li><b>Stop Bits:</b> 1</li>
<li><b>New Line:</b> CR+LF (Ensure sending <code>\n</code> on Enter)</li>
</ul>
</li>
</ol>
<h2><a class="anchor" id="send_cmd"></a>
Sending Commands</h2>
<p>Once connected, the screen may appear black or white depending on initialization.</p><ol type="1">
<li>Click into the terminal window.</li>
<li>Type a command string (e.g., <code>clearscherm,wit</code>).</li>
<li>Press <b>Enter</b>.</li>
<li>The parser expects a newline character (<code>\n</code>) to execute the command.</li>
</ol>
<h1><a class="anchor" id="file_sec"></a>
File Structure</h1>
<p>The project files are organized as follows:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">File   </th><th class="markdownTableHeadLeft">Location   </th><th class="markdownTableHeadLeft">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><b><code><a class="el" href="main_8c.html" title="Main code file.">main.c</a></code></b>   </td><td class="markdownTableBodyLeft">Core/Src   </td><td class="markdownTableBodyLeft">Main entry point, system initialization, and infinite loop.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><b><code><a class="el" href="_logic_layer_8c_source.html">LogicLayer.c</a></code></b>   </td><td class="markdownTableBodyLeft">Core/Src   </td><td class="markdownTableBodyLeft"><b>Logic Layer:</b> Parses incoming ASCII commands from the UART buffer.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><b><code><a class="el" href="_a_p_i___l_i_b_8c.html" title="API library source file.">API_LIB.c</a></code></b>   </td><td class="markdownTableBodyLeft">Core/Src   </td><td class="markdownTableBodyLeft"><b>API Layer:</b> Contains the API functionality of the program. All functions are visible in the table under UART Command Protocol.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><b><code><a class="el" href="_u_a_r_t_8c.html" title="UART code file.">UART.c</a></code></b>   </td><td class="markdownTableBodyLeft">Core/Src   </td><td class="markdownTableBodyLeft"><b>Driver Layer:</b> Handles UART interrupts and circular buffer management.   </td></tr>
</table>
<h1><a class="anchor" id="cmd_sec"></a>
UART Command Protocol</h1>
<p>Commands must be sent via UART (<b>115200 baud, 8N1</b>).</p>
<p><b>Format:</b> <code>command,param1,param2,...\n</code></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Command   </th><th class="markdownTableHeadLeft">Function   </th><th class="markdownTableHeadLeft">Parameters   </th><th class="markdownTableHeadLeft">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><b><code>pixel</code></b>   </td><td class="markdownTableBodyLeft">UB_VGA_SetPixel()   </td><td class="markdownTableBodyLeft"><code>x,y,color</code>   </td><td class="markdownTableBodyLeft">Draws a single pixel.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><b><code>lijn</code></b>   </td><td class="markdownTableBodyLeft"><a class="el" href="_a_p_i___l_i_b_8c.html#a77fe59a28c36c982d8e744469b6f75a7" title="Draws a line with adjustable thickness on the VGA display.">API_draw_line()</a>   </td><td class="markdownTableBodyLeft"><code>x1,y1,x2,y2,color,weight</code>   </td><td class="markdownTableBodyLeft">Draws a line between two points.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><b><code>rechthoek</code></b>   </td><td class="markdownTableBodyLeft"><a class="el" href="_a_p_i___l_i_b_8c.html#a62957deeb57f3a25c8d0727c8c9a8b40" title="Draws a rectangle on the VGA display.">API_draw_rectangle()</a>   </td><td class="markdownTableBodyLeft"><code>x,y,w,h,color,fill</code>   </td><td class="markdownTableBodyLeft">Draws a rectangle (fill: 1=yes, 0=no).    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><b><code>cirkel</code></b>   </td><td class="markdownTableBodyLeft"><a class="el" href="_a_p_i___l_i_b_8c.html#a970082c425e5df1b713a39b66adbf37a" title="Draws a filled circle on the VGA display.">API_draw_circle()</a>   </td><td class="markdownTableBodyLeft"><code>x,y,r,color</code>   </td><td class="markdownTableBodyLeft">Draws a circle with radius r.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><b><code>bitmap</code></b>   </td><td class="markdownTableBodyLeft"><a class="el" href="_a_p_i___l_i_b_8c.html#a2ea495971b1f8a9158ff7c5a824eec5a" title="Draws a bitmap on the screen at the specified upper-left position.">API_draw_bitmap()</a>   </td><td class="markdownTableBodyLeft"><code>id,x,y</code>   </td><td class="markdownTableBodyLeft">Draws a pre-loaded bitmap (IDs 0-11).    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><b><code>tekst</code></b>   </td><td class="markdownTableBodyLeft"><a class="el" href="_a_p_i___l_i_b_8c.html#ae0803eadbc03323e0bd22ba2412340f5" title="Draws a string of text on the VGA display with selectable fonts.">API_draw_text()</a>   </td><td class="markdownTableBodyLeft"><code>x,y,color,"text",font,size</code>   </td><td class="markdownTableBodyLeft">Draws text. Font: "arial", "consolas", "comicsans".    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><b><code>figuur</code></b>   </td><td class="markdownTableBodyLeft"><a class="el" href="_a_p_i___l_i_b_8c.html#ab66114c6716ff8496f4bf615af6bd60e" title="Draws a figure based on 5 coordinates.">API_draw_figure()</a>   </td><td class="markdownTableBodyLeft"><code>x1,y1,...,x5,y5,color</code>   </td><td class="markdownTableBodyLeft">Draws a polygon connecting 5 points.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><b><code>clearscherm</code></b>   </td><td class="markdownTableBodyLeft"><a class="el" href="_a_p_i___l_i_b_8c.html#ac5d34bcb0d84db1190d4b876a3f65944" title="Sets all pixels to given color.">API_clearscreen()</a>   </td><td class="markdownTableBodyLeft"><code>color</code>   </td><td class="markdownTableBodyLeft">Fills the entire screen with a color.   </td></tr>
</table>
<h2><a class="anchor" id="color_subsec"></a>
Color Reference</h2>
<p>The following Dutch color strings are accepted by the parser:</p>
<ul>
<li><b>Monochrome</b>: <code>zwart</code>, <code>wit</code>, <code>grijs</code></li>
<li><b>Primary</b>: <code>rood</code>, <code>lichtrood</code>, <code>groen</code>, <code>lichtgroen</code>, <code>blauw</code>, <code>lichtblauw</code></li>
<li><b>Secondary</b>: <code>geel</code>, <code>magenta</code>, <code>cyaan</code>, <code>bruin</code> </li>
</ul>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
